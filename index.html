<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>CorAlma</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f8f9fa; color: #333; }
    header { background: linear-gradient(135deg, #4facfe, #00f2fe); padding: 20px; color: white; text-align: center; }
    nav { background: #222; padding: 10px; text-align: center; }
    nav a { color: white; margin: 0 10px; text-decoration: none; }
    main { padding: 20px; }
    footer { background: #222; color: white; text-align: center; padding: 15px; margin-top: 30px; }

    /* Art√≠culos */
    .articles { display: grid; gap: 15px; margin-top: 20px; }
    .article-card { background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }

    /* Reproductor flotante */
    .floating-player {
      position: fixed; bottom: 20px; right: 20px;
      background: #222; color: white;
      padding: 10px; border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.4);
      width: 260px; z-index: 9999;
    }
    .floating-player.hidden { display: none; }
    .fp-header { display: flex; justify-content: space-between; align-items: center; }
    .fp-body { text-align: center; margin-top: 10px; }
    .fp-body img { max-width: 100%; border-radius: 8px; }

    /* Recomendaciones */
    h3 { margin-top: 30px; }
    .recs { display: grid; gap: 10px; margin-top: 10px; }
    .rec-card { display: flex; gap: 10px; align-items: center; background:#fff; border-radius:8px; padding:8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .rec-card img { width: 80px; border-radius: 6px; }
    .rec-info { flex: 1; }
    .rec-info p { margin:0; font-size:14px; }
    .rec-info button { margin-top: 5px; }
  </style>
</head>
<body>

  <header>
    <h1>‚ú® CorAlma ‚ú®</h1>
    <p>Meditaci√≥n ¬∑ Conocimiento ¬∑ M√∫sica</p>
  </header>

  <nav>
    <a href="https://google.com" target="_blank">Google</a>
    <a href="https://youtube.com" target="_blank">YouTube</a>
  </nav>

  <main>
    <h2>Art√≠culos recomendados</h2>
    <div class="articles">
      <div class="article-card">
        <h3>La conciencia y el universo</h3>
        <p>Exploraci√≥n de c√≥mo la conciencia puede estar entrelazada con la estructura misma del cosmos.</p>
      </div>
      <div class="article-card">
        <h3>Dimensiones ocultas</h3>
        <p>Una mirada cient√≠fica y espiritual a la teor√≠a de m√∫ltiples dimensiones.</p>
      </div>
      <div class="article-card">
        <h3>El poder de la manifestaci√≥n</h3>
        <p>C√≥mo nuestros pensamientos y emociones moldean la realidad.</p>
      </div>
    </div>

    <h2>üéµ M√∫sica Relajante</h2>
    <p>Se carga autom√°ticamente al abrir la p√°gina.</p>
    <div id="ytRecs" class="recs"></div>
  </main>

  <footer>
    <p>¬© 2025 CorAlma ¬∑ Espiritualidad y Ciencia</p>
  </footer>

  <!-- Reproductor flotante -->
  <div id="floatingPlayer" class="floating-player hidden">
    <div class="fp-header">
      <span id="fp-title">M√∫sica</span>
      <div>
        <button onclick="toggleYT()">‚ñ∂Ô∏è / ‚è∏</button>
        <button onclick="closeFloatingPlayer()">‚ùå</button>
      </div>
    </div>
    <div class="fp-body">
      <img id="fp-thumbnail" src="" alt="Miniatura"/>
    </div>
    <!-- Reproductor invisible -->
    <div id="ytPlayer" style="width:0;height:0;overflow:hidden;"></div>
  </div>

  <script>
    let ytPlayer, ytPlaying = false;
    const apiKey = "TU_API_KEY_DE_YOUTUBE"; // üîë Pega tu API key aqu√≠
    const searchQuery = "relaxing meditation music";

    // Buscar m√∫sica
    function searchYouTubeAndLoad(){
      fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=6&q=${encodeURIComponent(searchQuery)}&key=${apiKey}`)
        .then(r => r.json())
        .then(data => {
          if(!data.items || data.items.length === 0) return alert("No se encontr√≥ m√∫sica.");
          
          // Primer video ‚Üí cargar autom√°tico
          const first = data.items[0];
          loadIntoPlayer(first.id.videoId, first.snippet.title, first.snippet.thumbnails.high.url, true);

          // Resto ‚Üí recomendaciones
          const recs = document.getElementById("ytRecs");
          recs.innerHTML = "";
          data.items.slice(1).forEach(item => {
            const videoId = item.id.videoId;
            const title = item.snippet.title;
            const thumb = item.snippet.thumbnails.medium.url;
            const card = document.createElement("div");
            card.className = "rec-card";
            card.innerHTML = `
              <img src="${thumb}" alt="${title}">
              <div class="rec-info">
                <p>${title}</p>
                <button onclick="loadIntoPlayer('${videoId}', '${title}', '${thumb}')">‚ñ∂Ô∏è Reproducir</button>
              </div>
            `;
            recs.appendChild(card);
          });
        })
        .catch(err => console.error("Error:", err));
    }

    // Cargar canci√≥n en el reproductor
    function loadIntoPlayer(videoId, title, thumb, autoplay=false){
      document.getElementById("fp-title").textContent = title;
      document.getElementById("fp-thumbnail").src = thumb;
      document.getElementById("floatingPlayer").classList.remove("hidden");

      if(ytPlayer){
        ytPlayer.loadVideoById(videoId);
        if(autoplay) ytPlayer.playVideo();
      } else {
        ytPlayer = new YT.Player("ytPlayer", {
          height: "0", width: "0",
          videoId: videoId,
          playerVars: { autoplay: autoplay ? 1 : 0 }
        });
      }
      ytPlaying = autoplay;
    }

    function toggleYT(){
      if(!ytPlayer) return;
      if(ytPlaying){
        ytPlayer.pauseVideo();
      } else {
        ytPlayer.playVideo();
      }
      ytPlaying = !ytPlaying;
    }

    function closeFloatingPlayer(){
      document.getElementById("floatingPlayer").classList.add("hidden");
      if(ytPlayer) ytPlayer.stopVideo();
      ytPlaying = false;
    }

    // API de YouTube
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.body.appendChild(tag);

    // Arrancar al cargar
    window.onload = searchYouTubeAndLoad;
  </script>
</body>
</html>