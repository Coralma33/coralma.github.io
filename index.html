<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Coralma — Tarot & Meditación</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Tipografía celta -->
  <link href="https://fonts.googleapis.com/css2?family=Uncial+Antiqua&display=swap" rel="stylesheet">

  <!-- GSAP para animaciones -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

  <style>
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(to bottom, #1a1a1a, #000);
      color: #f0e6d2;
      font-family: Arial, sans-serif;
      text-align: center;
    }

    header {
      font-family: 'Uncial Antiqua', cursive;
      font-size: 3rem;
      padding: 20px;
      background: #111;
      color: #e3d17a;
      text-shadow: 0 0 10px #ffcc00;
    }

    section {
      margin: 40px 0;
    }

    iframe {
      border: none;
      width: 90%;
      max-width: 560px;
      height: 315px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
    }

    button {
      margin: 15px;
      padding: 12px 20px;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      background: #e3d17a;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: #c9b35d;
    }

    /* Meditación */
    #breathingCircle {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      margin: 20px auto;
      background: radial-gradient(circle, #e3d17a, #111);
      animation: breathe 8s infinite;
    }

    @keyframes breathe {
      0%, 100% { transform: scale(1); opacity: 0.7; }
      50% { transform: scale(1.5); opacity: 1; }
    }

    /* Tarot */
    #tarotBoard {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }

    .card {
      width: 100px;
      height: 180px;
      perspective: 1000px;
      cursor: pointer;
    }

    .card-inner {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.8s;
    }

    .card.flipped .card-inner {
      transform: rotateY(180deg);
    }

    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 8px;
    }

    .card-front {
      background: #222;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-family: 'Uncial Antiqua', cursive;
      font-size: 0.9rem;
      border: 2px solid #e3d17a;
    }

    .card-back {
      transform: rotateY(180deg);
      background-size: cover;
      background-position: center;
    }

    /* Frases */
    #dailyPhrase {
      font-style: italic;
      font-size: 1.3rem;
      margin-top: 20px;
      color: #e3d17a;
    }

    /* Donaciones */
    #donaciones {
      margin-top: 50px;
    }

    .witch {
      margin: 40px auto;
      width: 200px;
      height: 200px;
      background: url('https://i.ibb.co/DkfV3rM/witch-crystal-ball.png') no-repeat center/contain;
      animation: glow 4s infinite;
    }

    @keyframes glow {
      0%, 100% { filter: drop-shadow(0 0 5px #ffcc00); }
      50% { filter: drop-shadow(0 0 20px #ff6600); }
    }
  </style>
</head>
<body>

  <header>CORALMA</header>

  <!-- Reproductor YouTube -->
  <section>
    <iframe id="ytPlayer" src="https://www.youtube.com/embed/dQw4w9WgXcQ" allowfullscreen></iframe>
    <br>
    <button onclick="showMeditation()">Meditación</button>
  </section>

  <!-- Meditación -->
  <section id="meditacion" style="display:none;">
    <h2>Meditación Guiada</h2>
    <div id="breathingCircle"></div>
    <p>Respira con el círculo — Inhala al crecer, exhala al reducirse.</p>
  </section>

  <!-- Tarot -->
  <section>
    <h2>Tarot Interactivo</h2>
    <button onclick="drawCards(1)">Tirada 1 Carta</button>
    <button onclick="drawCards(3)">Tirada 3 Cartas</button>
    <button onclick="drawCards(10)">Cruz Celta</button>
    <div id="tarotBoard"></div>
    <div class="witch"></div>
  </section>

  <!-- Frases -->
  <section>
    <h2>Frase del Día</h2>
    <div id="dailyPhrase">Loading...</div>
  </section>

  <!-- Donaciones -->
  <section id="donaciones">
    <h2>Apoya Coralma</h2>
    <form action="https://www.paypal.com/donate" method="post" target="_blank">
      <input type="hidden" name="business" value="TU-CORREO@PAYPAL.COM" />
      <input type="hidden" name="currency_code" value="USD" />
      <button type="submit">Donar con PayPal</button>
    </form>
  </section>

<script>
  // Mostrar meditación
  function showMeditation() {
    document.getElementById('meditacion').style.display = 'block';
    document.getElementById('meditacion').scrollIntoView({behavior: 'smooth'});
  }

  // Cartas del Tarot
  const cards = [
    "0-fool","1-magician","2-highpriestess","3-empress","4-emperor","5-hierophant",
    "6-lovers","7-chariot","8-strength","9-hermit","10-wheel","11-justice","12-hanged",
    "13-death","14-temperance","15-devil","16-tower","17-star","18-moon","19-sun",
    "20-judgement","21-world",
    "22-wands-ace","23-wands-2","24-wands-3","25-wands-4","26-wands-5",
    "27-wands-6","28-wands-7","29-wands-8","30-wands-9","31-wands-10","32-wands-page",
    "33-wands-knight","34-wands-queen","35-wands-king",
    "36-cups-ace","37-cups-2","38-cups-3","39-cups-4","40-cups-5",
    "41-cups-6","42-cups-7","43-cups-8","44-cups-9","45-cups-10","46-cups-page",
    "47-cups-knight","48-cups-queen","49-cups-king",
    "50-swords-ace","51-swords-2","52-swords-3","53-swords-4","54-swords-5",
    "55-swords-6","56-swords-7","57-swords-8","58-swords-9","59-swords-10","60-swords-page",
    "61-swords-knight","62-swords-queen","63-swords-king",
    "64-pentacles-ace","65-pentacles-2","66-pentacles-3","67-pentacles-4","68-pentacles-5",
    "69-pentacles-6","70-pentacles-7","71-pentacles-8","72-pentacles-9","73-pentacles-10","74-pentacles-page",
    "75-pentacles-knight","76-pentacles-queen","77-pentacles-king"
  ];

  function drawCards(num) {
    let today = new Date().toDateString();
    let lastDraw = localStorage.getItem("lastDraw");
    if (lastDraw === today) {
      alert("Solo puedes hacer una tirada por día.");
      return;
    }
    localStorage.setItem("lastDraw", today);

    const board = document.getElementById('tarotBoard');
    board.innerHTML = "";

    const selected = [];
    while (selected.length < num) {
      let r = Math.floor(Math.random() * cards.length);
      if (!selected.includes(r)) selected.push(r);
    }

    selected.forEach(c => {
      let div = document.createElement("div");
      div.className = "card";
      div.innerHTML = `
        <div class="card-inner">
          <div class="card-front">Coralma</div>
          <div class="card-back" style="background-image:url('cartas/${cards[c]}.jpg')"></div>
        </div>`;
      div.onclick = () => div.classList.toggle("flipped");
      board.appendChild(div);
      gsap.from(div, {opacity:0, y:-50, duration:1});
    });
  }

  // Frases diarias
  const frases = [
    "La calma es la verdadera riqueza.",
    "Dentro de ti habita la respuesta.",
    "La paciencia abre puertas que la prisa cierra.",
    "El alma siempre sabe su camino."
  ];
  document.getElementById("dailyPhrase").textContent =
    frases[Math.floor(Math.random() * frases.length)];
</script>

</body>
</html>